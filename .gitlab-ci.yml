stages: [setup, lint, test, security]
setup:
  stage: setup
  image: python:3.12
  script: [ "pip install -r requirements.txt" ]
  cache: { paths: [ "~/.cache/pip" ] }
lint:
  stage: lint
  image: python:3.12
  script: [ "pip install -r requirements.txt", "flake8" ]
tests:
  stage: test
  image: python:3.12
  script: [ "pip install -r requirements.txt", "pytest -q" ]
bandit:
  stage: security
  image: python:3.12
  script: [ "pip install -r requirements.txt", "bandit -r projects -q || true" ]
